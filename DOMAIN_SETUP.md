# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –≤ Beget –¥–ª—è VPS

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ Beget

1. **–í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Beget**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://cp.beget.com
   - –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–î–æ–º–µ–Ω—ã"**
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –≤ —Å–ø–∏—Å–∫–µ
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS-–∑–∞–ø–∏—Å–∏**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "DNS-–∑–∞–ø–∏—Å–∏"
   - –£–¥–∞–ª–∏—Ç–µ –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ A-–∑–∞–ø–∏—Å–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

4. **–î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞**
   ```
   –¢–∏–ø: A
   –ò–º—è: @ (–∏–ª–∏ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º)
   –ó–Ω–∞—á–µ–Ω–∏–µ: 45.153.188.66
   TTL: 3600
   ```

5. **–î–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å—å –¥–ª—è www-–ø–æ–¥–¥–æ–º–µ–Ω–∞**
   ```
   –¢–∏–ø: A
   –ò–º—è: www
   –ó–Ω–∞—á–µ–Ω–∏–µ: 45.153.188.66
   TTL: 3600
   ```

6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è**

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –Ω–∞ VPS

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ –≤–∞—à–µ–º VPS:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS
ssh root@45.153.188.66

# –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞
curl -o setup-domain.sh https://raw.githubusercontent.com/–í–ê–®_USERNAME/plasteringfinish/main/setup-domain.sh
chmod +x setup-domain.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω)
bash setup-domain.sh –≤–∞—à-–¥–æ–º–µ–Ω.ru
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS –ø–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 –º–∏–Ω—É—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏
nslookup –≤–∞—à-–¥–æ–º–µ–Ω.ru
dig –≤–∞—à-–¥–æ–º–µ–Ω.ru

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl -I http://–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSL
curl -o setup-ssl.sh https://raw.githubusercontent.com/–í–ê–®_USERNAME/plasteringfinish/main/setup-ssl.sh
chmod +x setup-ssl.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É SSL
bash setup-ssl.sh –≤–∞—à-–¥–æ–º–µ–Ω.ru
```

## üîß –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx
sudo apt update
sudo apt install -y nginx

# –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nano /etc/nginx/sites-available/plasteringfinish
```

–í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```nginx
server {
    listen 80;
    server_name –≤–∞—à-–¥–æ–º–µ–Ω.ru www.–≤–∞—à-–¥–æ–º–µ–Ω.ru;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–∞–π—Ç
sudo ln -s /etc/nginx/sites-available/plasteringfinish /etc/nginx/sites-enabled/
sudo rm -f /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
sudo systemctl restart nginx
```

## üîí –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot
sudo apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot --nginx -d –≤–∞—à-–¥–æ–º–µ–Ω.ru -d www.–≤–∞—à-–¥–æ–º–µ–Ω.ru

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo systemctl enable certbot.timer
sudo systemctl start certbot.timer
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏:
```bash
nslookup –≤–∞—à-–¥–æ–º–µ–Ω.ru
dig –≤–∞—à-–¥–æ–º–µ–Ω.ru
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:
```bash
curl -I http://–≤–∞—à-–¥–æ–º–µ–Ω.ru
curl -I https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Nginx:
```bash
sudo tail -f /var/log/nginx/plasteringfinish_access.log
sudo tail -f /var/log/nginx/plasteringfinish_error.log
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-–¥–æ–º–µ–Ω.ru`** –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
2. **–ó–∞–º–µ–Ω–∏—Ç–µ `–í–ê–®_USERNAME`** –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub
3. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 10-30 –º–∏–Ω—É—Ç** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è DNS
4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç** –≤ firewall
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ** –Ω–∞ –ø–æ—Ä—Ç—É 3000

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –î–æ–º–µ–Ω –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
nslookup –≤–∞—à-–¥–æ–º–µ–Ω.ru

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
sudo ufw status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx
sudo systemctl status nginx
```

### SSL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot certificates

# –û–±–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot renew
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PM2
pm2 status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
pm2 logs plasteringfinish

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pm2 restart plasteringfinish
```

## üìû –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å–∞–º:
- **HTTP:** `http://–≤–∞—à-–¥–æ–º–µ–Ω.ru`
- **HTTPS:** `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru`
- **WWW:** `http://www.–≤–∞—à-–¥–æ–º–µ–Ω.ru` –∏ `https://www.–≤–∞—à-–¥–æ–º–µ–Ω.ru`

